<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Optimization System</title>
    <link rel="stylesheet" href="EOS.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Welcome Interface -->
    <div id="welcome-interface" class="interface active">
        <div class="welcome-box">
            <div class="logo">
                <svg viewBox="0 0 24 24" width="48" height="48">
                    <path fill="#2e7d32" d="M12,2L4,5v6.09c0,5.05 3.41,9.76 8,10.91c4.59-1.15 8-5.86 8-10.91V5L12,2z M16,13h-3v3h-2v-3H8v-2h3V8h2v3h3V13z"/>
                </svg>
            </div>
            <h1>Energy Optimization System</h1>
            <p>Monitor, analyze and optimize your household energy consumption</p>
            <button id="get-started-btn" class="btn pulse">Get Started</button>
        </div>
    </div>

    <!-- User Input Interface -->
    <div id="input-interface" class="interface">
        <div class="header">
            <h2>Enter Your Energy Details</h2>
            <p>Fill in your household information and appliance usage</p>
        </div>
        
        <div class="input-section">
            <div class="input-column">
                <div class="input-card">
                    <h3>Basic Information</h3>
                    <div class="input-group">
                        <label for="house-number">House Number:</label>
                        <input type="text" id="house-number" placeholder="Enter house number">
                    </div>
                    <div class="input-group">
                        <label for="meter-number">Meter Number:</label>
                        <input type="text" id="meter-number" placeholder="Enter meter number">
                    </div>
                    <div class="input-group">
                        <label for="location">Location:</label>
                        <select id="location">
                            <option value="">Select Location</option>
                            <option value="urban">Urban</option>
                            <option value="semi-urban">Semi-Urban</option>
                            <option value="rural">Rural</option>
                            <option value="hilly">Hilly</option>
                            <option value="coastal">Coastal</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="weather">Weather Conditions:</label>
                        <select id="weather">
                            <option value="">Select Weather</option>
                            <option value="unpredictable">Unpredictable</option>
                            <option value="mixed">Mixed</option>
                            <option value="mostly-sunny">Mostly Sunny</option>
                            <option value="sunny">Sunny</option>
                            <option value="rainy">Rainy</option>
                            <option value="windy">Windy</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="cost-per-kwh">Cost per kWh (₹):</label>
                        <select id="cost-per-kwh">
                            <option value="">Select Cost</option>
                            <option value="6">₹6 (Urban)</option>
                            <option value="7">₹7 (Urban)</option>
                            <option value="8">₹8 (Urban)</option>
                            <option value="4">₹4 (Rural)</option>
                            <option value="5">₹5 (Rural/Hilly)</option>
                            <option value="6">₹6 (Rural)</option>
                            <option value="7">₹7 (Hilly/Coastal)</option>
                            <option value="8">₹8 (Coastal)</option>
                            <option value="9">₹9 (Coastal)</option>
                            <option value="custom">Custom</option>
                        </select>
                        <input type="number" id="custom-cost" placeholder="Enter custom cost" style="display: none;">
                    </div>
                </div>
            </div>
            
            <div class="appliance-column">
                <div class="appliance-card">
                    <h3>Appliance Usage</h3>
                    <div class="appliance-list">
                        <!-- Appliance items will be generated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="button-container">
            <button id="calculate-btn" class="btn">Calculate</button>
            <button id="view-data-btn" class="btn outline">View Previous Data</button>
        </div>
    </div>

    <!-- Result Interface -->
    <div id="result-interface" class="interface">
        <div class="header">
            <h2>Your Energy Optimization Results</h2>
            <p>See how much you can save with renewable energy</p>
        </div>
        
        <div class="result-grid">
            <div class="summary-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3M19,19H5V5H19V19M7,12H9V17H7V12M11,7H13V17H11V7M15,10H17V17H15V10Z"/>
                    </svg>
                    <h3>Energy Summary</h3>
                </div>
                <div class="card-body">
                    <div class="result-item">
                        <span>Total Consumption:</span>
                        <span id="total-consumption">0 kWh/month</span>
                    </div>
                    <div class="result-item">
                        <span>Current Monthly Bill:</span>
                        <span id="total-bill">₹0</span>
                    </div>
                </div>
            </div>
            
            <div class="renewable-details-card">
                <div class="renewable-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#1b5e20" d="M12,2L4,5v6.09c0,5.05 3.41,9.76 8,10.91c4.59-1.15 8-5.86 8-10.91V5L12,2z M16,13h-3v3h-2v-3H8v-2h3V8h2v3h3V13z"/>
                    </svg>
                    <h3>Renewable Energy Solution</h3>
                </div>
                <div class="card-body" id="renewable-details">
                    <!-- Filled by JavaScript -->
                </div>
            </div>
            
            <div class="recommendation-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M12,3L2,12H5V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,14.5 12,18 12,18C12,18 8.2,14.5 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7M12,10A1.5,1.5 0 0,0 10.5,11.5A1.5,1.5 0 0,0 12,13A1.5,1.5 0 0,0 13.5,11.5A1.5,1.5 0 0,0 12,10Z"/>
                    </svg>
                    <h3>Recommendation</h3>
                </div>
                <div class="card-body">
                    <div class="result-item">
                        <span>Suggested Solution:</span>
                        <span id="renewable-source">-</span>
                    </div>
                    <div class="result-item">
                        <span>Installation Cost:</span>
                        <span id="installation-cost">-</span>
                    </div>
                    <div class="result-item">
                        <span>New Monthly Bill:</span>
                        <span id="new-bill">-</span>
                    </div>
                    <div class="savings">
                        <div class="savings-item">
                            <span>Monthly Savings</span>
                            <span id="monthly-savings" class="highlight">-</span>
                        </div>
                        <div class="savings-item">
                            <span>Yearly Savings</span>
                            <span id="yearly-savings" class="highlight">-</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="suggestions-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M12,2L1,21H23M12,6L19.5,19H4.5M11,10V14H13V10M11,16V18H13V16"/>
                    </svg>
                    <h3>Implementation Tips</h3>
                </div>
                <div class="card-body">
                    <div id="suggestion-display">
                        <p>Calculating your personalized energy tips...</p>
                    </div>
                </div>
            </div>
            
            <div class="chart-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"/>
                    </svg>
                    <h3>Savings Comparison</h3>
                </div>
                <div class="card-body">
                    <canvas id="costChart"></canvas>
                </div>
            </div>
            
            <div class="comparison-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M3,22H21V20H3M7,18V15H11V18H7M13,18V10H17V18H13M3,4V6H21V4H3Z"/>
                    </svg>
                    <h3>Before vs After</h3>
                </div>
                <div class="card-body">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Before</th>
                                <th>After</th>
                                <th>Savings</th>
                            </tr>
                        </thead>
                        <tbody id="comparison-data">
                            <!-- Filled by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="appliance-usage-card">
                <div class="card-header">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="#2e7d32" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"/>
                    </svg>
                    <h3>Appliance Usage</h3>
                </div>
                <div class="card-body">
                    <table class="appliance-table">
                        <thead>
                            <tr>
                                <th>Appliance</th>
                                <th>Qty</th>
                                <th>Hours/Day</th>
                                <th>kWh/Month</th>
                            </tr>
                        </thead>
                        <tbody id="appliance-details">
                            <!-- Filled by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="button-container">
            <button id="save-data-btn" class="btn">Save This Data</button>
            <button id="new-calculation-btn" class="btn outline">New Calculation</button>
            <button id="go-to-data-btn" class="btn outline">View All Data</button>
        </div>
    </div>

    <!-- Data Access Interface -->
    <div id="data-access-interface" class="interface">
        <div class="header">
            <h2>Access Previous Data</h2>
            <p>Enter password to view your historical energy data</p>
        </div>
        
        <div class="password-card">
            <div class="card-header">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="#2e7d32" d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
                </svg>
                <h3>Enter Password</h3>
            </div>
            <div class="card-body">
                <div class="input-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" placeholder="Enter password">
                </div>
                <button id="submit-password-btn" class="btn">Submit</button>
            </div>
        </div>
        
        <div class="button-container">
            <button id="back-to-input-btn" class="btn outline">Back to Input</button>
        </div>
    </div>

    <!-- Data View Interface -->
    <div id="data-view-interface" class="interface">
        <div class="header">
            <h2>Your Energy Data History</h2>
            <p>All your saved energy optimization records</p>
        </div>
        
        <div class="data-controls">
            <button id="export-data-btn" class="btn">Export to Excel</button>
            <button id="back-to-input-from-data-btn" class="btn outline">Back to Input</button>
        </div>
        
        <div class="data-table-container">
            <table id="saved-data-table">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>House No</th>
                        <th>Meter No</th>
                        <th>Location</th>
                        <th>Weather</th>
                        <th>Usage (kWh)</th>
                        <th>Bill (₹)</th>
                        <th>Renewable</th>
                        <th>Install Cost</th>
                        <th>New Bill</th>
                        <th>Savings</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody id="saved-data-body">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <audio id="click-sound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3" preload="auto"></audio>
    <script src="EOS.js"></script>
</body>
</html>